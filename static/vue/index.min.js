let vue=new Vue({el:"#app",delimiters:["[[","]]"],data:{posts:[],error:{title:"*",content:"*",author:"*"},formClass:{errorTitleClass:"",errorContentClass:""},form:{title:"",content:"",author:""},urlPost:"/api/posts/create/",disabled:!1,statusText:""},methods:{Send:async function(){if(this.ValidateForm()){this.disabled=!0,this.statusText="Sending post to server... Please await...";let t={title:this.form.title,content:this.form.content,author:this.form.author};201===(await axios.post(this.urlPost,t)).status&&(this.statusText="Post created sucessfully!",await this.RetrivePosts(),this.Clear()),this.disabled=!1}},Clear:function(){this.form.title="",this.form.content="",this.form.author="",this.ClearErrors()},ClearErrors:function(){this.error.title="",this.error.content="",this.formClass.errorTitleClass="",this.formClass.errorContentClass=""},ValidateForm:function(){var t=0;return this.ClearErrors(),this.form.title.length<4&&(this.error.title="*Please, insert a valid name (>4 characteres)",this.formClass.errorTitleClass="is-invalid",t++),this.form.content.length<4&&(this.error.content="*Please, insert a valid content (min 10 characteres)",this.formClass.errorContentClass="is-invalid",t++),0===t},RetrivePosts:async function(){let t=await axios("/api/posts");this.posts=t.data}},async mounted(){await this.RetrivePosts()}});